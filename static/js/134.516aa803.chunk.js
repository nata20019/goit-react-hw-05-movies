"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[134],{651:function(e,t,r){r.d(t,{TP:function(){return f},tx:function(){return v},wr:function(){return i},z1:function(){return l},zv:function(){return p}});var n=r(861),a=r(757),c=r.n(a),o=r(16),s="af181d8638fc4af5618fbe58b42ee124",u="https://api.themoviedb.org/3";o.Z.defaults.params={api_key:s};var i=function(){var e=(0,n.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.get("".concat(u,"/trending/movie/day"));case 3:return t=e.sent,console.log(t.data.results),e.abrupt("return",t.data.results);case 8:throw e.prev=8,e.t0=e.catch(0),console.error("Error fetching trending movies:",e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=(0,n.Z)(c().mark((function e(t){var r,n,a=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:1,e.prev=1,e.next=4,o.Z.get("".concat(u,"/search/movie"),{params:{query:t,page:r}});case 4:return n=e.sent,console.log(n.data),e.abrupt("return",n.data);case 9:throw e.prev=9,e.t0=e.catch(1),console.error('Error searching movies for "'.concat(t,'":'),e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,n.Z)(c().mark((function e(t){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.get("".concat(u,"/movie/").concat(t));case 3:return r=e.sent,console.log(r.data),e.abrupt("return",r.data);case 8:throw e.prev=8,e.t0=e.catch(0),console.error("Error fetching movie details for ID ".concat(t,":"),e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,n.Z)(c().mark((function e(t){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.get("".concat(u,"/movie/").concat(t,"/credits"));case 3:return r=e.sent,console.log(r.data.cast),e.abrupt("return",r.data.cast);case 8:throw e.prev=8,e.t0=e.catch(0),console.error("Error fetching movie credits for ID ".concat(t,":"),e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=(0,n.Z)(c().mark((function e(t){var r,n,a=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:1,e.prev=1,e.next=4,o.Z.get("".concat(u,"/movie/").concat(t,"/reviews"),{params:{page:r}});case 4:return n=e.sent,console.log(n.data.results),e.abrupt("return",n.data.results);case 9:throw e.prev=9,e.t0=e.catch(1),console.error("Error fetching movie reviews for ID ".concat(t,":"),e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},321:function(e,t,r){r(791);var n=r(900),a=r(184);t.Z=function(){return(0,a.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100px"},children:(0,a.jsx)(n.s5,{visible:!0,height:"96",width:"96",color:"grey",strokeWidth:"5",animationDuration:"0.75",ariaLabel:"rotating-lines-loading"})})}},130:function(e,t,r){var n=r(689),a=r(87),c=r(184);t.Z=function(e){var t=e.movies,r=(0,n.TH)();return(0,c.jsx)("div",{className:"container",children:t.length>0&&(0,c.jsx)("ul",{children:t.map((function(e){return(0,c.jsx)("li",{children:(0,c.jsx)(a.rU,{to:"/movies/".concat(e.id),state:r,children:e.title||e.name})},e.id)}))})})}},134:function(e,t,r){r.r(t);var n=r(861),a=r(439),c=r(757),o=r.n(c),s=r(791),u=r(87),i=r(651),l=r(321),f=r(130),p=(r(443),r(184));t.default=function(){var e=(0,u.lr)(),t=(0,a.Z)(e,2),r=t[0],c=t[1],v=r.get("query")||"",h=(0,s.useState)([]),d=(0,a.Z)(h,2),m=d[0],g=d[1],x=(0,s.useState)(!1),w=(0,a.Z)(x,2),Z=w[0],y=w[1],b=(0,s.useState)(null),j=(0,a.Z)(b,2),k=j[0],S=j[1],E=(0,s.useState)(v),N=(0,a.Z)(E,2),D=N[0],_=N[1];(0,s.useEffect)((function(){if(v){var e=function(){var e=(0,n.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),S(null),e.prev=2,e.next=5,(0,i.z1)(v);case 5:0===(t=e.sent).results.length&&alert('No movies found for "'.concat(v,'".')),g(t.results),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),S(e.t0);case 13:return e.prev=13,y(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,10,13,16]])})));return function(){return e.apply(this,arguments)}}();e()}else g([])}),[v]);return(0,p.jsxs)("div",{className:"container",children:[(0,p.jsx)("h1",{children:"Search Movies"}),(0,p.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=D.trim();""!==t?c({query:t}):alert("Please enter a search query.")},className:"search-form",children:[(0,p.jsx)("input",{type:"text",value:D,onChange:function(e){return _(e.target.value)},placeholder:"Search movies..."}),(0,p.jsx)("button",{type:"submit",children:"Search"})]}),Z&&(0,p.jsx)(l.Z,{}),k&&(0,p.jsxs)("p",{className:"error-message",children:["Oops! Something went wrong: ",k.message]}),!Z&&!k&&m.length>0&&(0,p.jsx)(f.Z,{movies:m}),!Z&&!k&&0===m.length&&v&&(0,p.jsxs)("p",{children:['No movies found for "',v,'".']})]})}},443:function(){}}]);
//# sourceMappingURL=134.516aa803.chunk.js.map