"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[134],{651:function(e,r,t){t.d(r,{TP:function(){return f},tx:function(){return h},wr:function(){return i},z1:function(){return l},zv:function(){return p}});var n=t(861),a=t(757),c=t.n(a),o=t(16),s="af181d8638fc4af5618fbe58b42ee124",u="https://api.themoviedb.org/3";o.Z.defaults.params={api_key:s};var i=function(){var e=(0,n.Z)(c().mark((function e(){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.get("".concat(u,"/trending/movie/day"));case 3:return r=e.sent,e.abrupt("return",r.data.results);case 7:throw e.prev=7,e.t0=e.catch(0),console.error("Error fetching trending movies:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=(0,n.Z)(c().mark((function e(r){var t,n,a=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>1&&void 0!==a[1]?a[1]:1,e.prev=1,e.next=4,o.Z.get("".concat(u,"/search/movie"),{params:{query:r,page:t}});case 4:return n=e.sent,e.abrupt("return",n.data);case 8:throw e.prev=8,e.t0=e.catch(1),console.error('Error searching movies for "'.concat(r,'":'),e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(r){return e.apply(this,arguments)}}(),f=function(){var e=(0,n.Z)(c().mark((function e(r){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.get("".concat(u,"/movie/").concat(r));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.error("Error fetching movie details for ID ".concat(r,":"),e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r){return e.apply(this,arguments)}}(),p=function(){var e=(0,n.Z)(c().mark((function e(r){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.get("".concat(u,"/movie/").concat(r,"/credits"));case 3:return t=e.sent,e.abrupt("return",t.data.cast);case 7:throw e.prev=7,e.t0=e.catch(0),console.error("Error fetching movie credits for ID ".concat(r,":"),e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r){return e.apply(this,arguments)}}(),h=function(){var e=(0,n.Z)(c().mark((function e(r){var t,n,a=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>1&&void 0!==a[1]?a[1]:1,e.prev=1,e.next=4,o.Z.get("".concat(u,"/movie/").concat(r,"/reviews"),{params:{page:t}});case 4:return n=e.sent,e.abrupt("return",n.data.results);case 8:throw e.prev=8,e.t0=e.catch(1),console.error("Error fetching movie reviews for ID ".concat(r,":"),e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(r){return e.apply(this,arguments)}}()},321:function(e,r,t){t(791);var n=t(900),a=t(184);r.Z=function(){return(0,a.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100px"},children:(0,a.jsx)(n.s5,{visible:!0,height:"96",width:"96",color:"grey",strokeWidth:"5",animationDuration:"0.75",ariaLabel:"rotating-lines-loading"})})}},134:function(e,r,t){t.r(r);var n=t(861),a=t(439),c=t(757),o=t.n(c),s=t(791),u=t(87),i=t(651),l=t(321),f=(t(443),t(184));r.default=function(){var e=(0,u.lr)(),r=(0,a.Z)(e,2),t=r[0],c=r[1],p=t.get("query")||"",h=(0,s.useState)([]),v=(0,a.Z)(h,2),d=v[0],m=v[1],g=(0,s.useState)(!1),x=(0,a.Z)(g,2),w=x[0],Z=x[1],y=(0,s.useState)(null),b=(0,a.Z)(y,2),k=b[0],j=b[1],S=(0,s.useState)(p),E=(0,a.Z)(S,2),D=E[0],_=E[1];(0,s.useEffect)((function(){if(p){var e=function(){var e=(0,n.Z)(o().mark((function e(){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Z(!0),j(null),e.prev=2,e.next=5,(0,i.z1)(p);case 5:0===(r=e.sent).results.length&&alert('No movies found for "'.concat(p,'".')),m(r.results),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),j(e.t0);case 13:return e.prev=13,Z(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,10,13,16]])})));return function(){return e.apply(this,arguments)}}();e()}else m([])}),[p]);return(0,f.jsxs)("div",{className:"container",children:[(0,f.jsx)("h1",{children:"Search Movies"}),(0,f.jsxs)("form",{onSubmit:function(e){e.preventDefault();var r=D.trim();""!==r?c({query:r}):alert("Please enter a search query.")},className:"search-form",children:[(0,f.jsx)("input",{type:"text",value:D,onChange:function(e){return _(e.target.value)},placeholder:"Search movies..."}),(0,f.jsx)("button",{type:"submit",children:"Search"})]}),w&&(0,f.jsx)(l.Z,{}),k&&(0,f.jsxs)("p",{className:"error-message",children:["Oops! Something went wrong: ",k.message]}),d.length>0&&(0,f.jsx)("ul",{children:d.map((function(e){return(0,f.jsx)("li",{children:(0,f.jsx)(u.rU,{to:"/movies/".concat(e.id),children:e.title||e.name})},e.id)}))})]})}},443:function(){}}]);
//# sourceMappingURL=134.cee5d7c5.chunk.js.map